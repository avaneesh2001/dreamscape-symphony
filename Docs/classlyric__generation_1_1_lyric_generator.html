<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dreamscape Symphony: lyric_generation.LyricGenerator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo for an app called dreamscape symphony (Custom) (Custom).png"/></td>
  <td id="projectalign">
   <div id="projectname">Dreamscape Symphony<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Dream analysis and lyrics generation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classlyric__generation_1_1_lyric_generator.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classlyric__generation_1_1_lyric_generator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">lyric_generation.LyricGenerator Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af308fd6b0ad253c9661662ad6ef303d3" id="r_af308fd6b0ad253c9661662ad6ef303d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af308fd6b0ad253c9661662ad6ef303d3">__init__</a> (self)</td></tr>
<tr class="separator:af308fd6b0ad253c9661662ad6ef303d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad100aa33ce9900478be56c1ac8933bde" id="r_ad100aa33ce9900478be56c1ac8933bde"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad100aa33ce9900478be56c1ac8933bde">get_api_token</a> (self)</td></tr>
<tr class="separator:ad100aa33ce9900478be56c1ac8933bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1725862fe6dc40ca38f1933a488fc8d6" id="r_a1725862fe6dc40ca38f1933a488fc8d6"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1725862fe6dc40ca38f1933a488fc8d6">generate_prompt</a> (self, List[str] topics, List[str] named_entity, List[str] keywords, str sentiment, str genere, str dream)</td></tr>
<tr class="separator:a1725862fe6dc40ca38f1933a488fc8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150616f6cd728b93857275c0665713d7" id="r_a150616f6cd728b93857275c0665713d7"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a150616f6cd728b93857275c0665713d7">clean_output</a> (self, str <a class="el" href="#aed2aeff20dff7e0eaca5ad280180d590">generated_text</a>)</td></tr>
<tr class="separator:a150616f6cd728b93857275c0665713d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf3e5cb828d7c60d0b0846efd792683" id="r_a9bf3e5cb828d7c60d0b0846efd792683"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bf3e5cb828d7c60d0b0846efd792683">generate_lyrics</a> (self, List[str] topics, List[str] named_entity, List[str] keywords, str sentiment, str genere, str dream)</td></tr>
<tr class="separator:a9bf3e5cb828d7c60d0b0846efd792683"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa769f9998cbd8eb2a6352ce9ff908c0c" id="r_aa769f9998cbd8eb2a6352ce9ff908c0c"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa769f9998cbd8eb2a6352ce9ff908c0c">api_url</a> = &quot;https://api-inference.huggingface.co/models/microsoft/Phi-3.5-mini-instruct&quot;</td></tr>
<tr class="separator:aa769f9998cbd8eb2a6352ce9ff908c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57758d67c59004bfbd2bf7f426db2f7a" id="r_a57758d67c59004bfbd2bf7f426db2f7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57758d67c59004bfbd2bf7f426db2f7a">api_token</a> = None</td></tr>
<tr class="separator:a57758d67c59004bfbd2bf7f426db2f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa415c952a15084df24ce1376265f52" id="r_affa415c952a15084df24ce1376265f52"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affa415c952a15084df24ce1376265f52">prompt_genere</a></td></tr>
<tr class="separator:affa415c952a15084df24ce1376265f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aa7389384ae69a4126de955ce6cfb0597" id="r_aa7389384ae69a4126de955ce6cfb0597"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7389384ae69a4126de955ce6cfb0597">response</a> = requests.post(self.api_url, headers=headers, json=payload)</td></tr>
<tr class="separator:aa7389384ae69a4126de955ce6cfb0597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2aeff20dff7e0eaca5ad280180d590" id="r_aed2aeff20dff7e0eaca5ad280180d590"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed2aeff20dff7e0eaca5ad280180d590">generated_text</a> = response.json()[0][&quot;generated_text&quot;].replace(prompt,&quot;&quot;)</td></tr>
<tr class="separator:aed2aeff20dff7e0eaca5ad280180d590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1934b33c1da4c220628862f1902add72" id="r_a1934b33c1da4c220628862f1902add72"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1934b33c1da4c220628862f1902add72">generated_lyrics</a> = self.clean_output(<a class="el" href="#aed2aeff20dff7e0eaca5ad280180d590">generated_text</a>)</td></tr>
<tr class="separator:a1934b33c1da4c220628862f1902add72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A class for generating lyrics based on specified genre and topic.

Attributes:
    api_url (str): The API URL for the AI model.
    api_token (str | None): The HuggingFace API token.
    prompt_genere (dict): A dictionary containing genre-specific prompts for generating lyrics.

Methods:
    __init__(self): Initializes the LyricGenerator class.
    get_api_token(self)-&gt;None: Retrieves the HuggingFace API token from the environment variables.
    generate_prompt(self, topics:List[str], named_entity:List[str], keywords:List[str], sentiment:str, genre:str)-&gt;str: Generates a prompt for the AI model to generate catchy and upbeat lyrics based on the specified genre and topic.
</pre> 
<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00010">10</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af308fd6b0ad253c9661662ad6ef303d3" name="af308fd6b0ad253c9661662ad6ef303d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af308fd6b0ad253c9661662ad6ef303d3">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lyric_generation.LyricGenerator.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize the LyricGenerator class.

:return: None
</pre> 
<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00025">25</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>    <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno">   26</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   27</span><span class="stringliteral">        Initialize the LyricGenerator class.</span></div>
<div class="line"><span class="lineno">   28</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   29</span><span class="stringliteral">        :return: None</span></div>
<div class="line"><span class="lineno">   30</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   31</span>        self.api_url = <span class="stringliteral">&quot;https://api-inference.huggingface.co/models/microsoft/Phi-3.5-mini-instruct&quot;</span></div>
<div class="line"><span class="lineno">   32</span>        self.api_token = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   33</span>        self.prompt_genere = {</div>
<div class="line"><span class="lineno">   34</span>            <span class="stringliteral">&quot;pop&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Pop**, and make the lyrics upbeat and catchy, celebrating simple joys like eating ice cream. Structure the lyrics with verses and a repetitive chorus that invites listeners to sing along.&quot;</span>,</div>
<div class="line"><span class="lineno">   35</span>            <span class="stringliteral">&quot;rock&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Rock**, and create energetic and powerful lyrics that celebrate adventure and spontaneity. Incorporate driving rhythms and a memorable chorus that inspires excitement and movement.&quot;</span>,</div>
<div class="line"><span class="lineno">   36</span>            <span class="stringliteral">&quot;carnatic&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Classical Indian (Carnatic)**, and compose intricate and melodic lyrics that highlight the beauty of nature and everyday experiences. Structure the lyrics with verses that flow seamlessly into a captivating refrain.&quot;</span>,</div>
<div class="line"><span class="lineno">   37</span>            <span class="stringliteral">&quot;samba&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Samba**, and create vibrant and fun lyrics that capture the excitement of street parties and summer celebrations. Structure the lyrics with upbeat verses and a repetitive chorus that embodies the spirit of dance and community.&quot;</span>,</div>
<div class="line"><span class="lineno">   38</span>            <span class="stringliteral">&quot;hip-hop&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Hip-Hop**, and write clever and rhythmic lyrics that playfully describe the fun of enjoying ice cream and having a good time with friends. Structure the lyrics with engaging verses and a catchy hook that encourages listeners to vibe along.&quot;</span>,</div>
<div class="line"><span class="lineno">   39</span>        }</div>
<div class="line"><span class="lineno">   40</span>        self.get_api_token()</div>
<div class="line"><span class="lineno">   41</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a150616f6cd728b93857275c0665713d7" name="a150616f6cd728b93857275c0665713d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150616f6cd728b93857275c0665713d7">&#9670;&#160;</a></span>clean_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str lyric_generation.LyricGenerator.clean_output </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>generated_text</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Clean and extract the generated lyrics from the API response.

This function processes the  response from the API, extracts the generated text,
and cleans it to retrieve only the content within the &lt;LYRICS&gt; tags.

:param generated_text: The text response from the API containing the generated text.
:type generated_text: str

:return: The cleaned and extracted lyrics.
:rtype: str
</pre> 
<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00113">113</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  113</span>    <span class="keyword">def </span>clean_output(self, generated_text: str) -&gt; str:</div>
<div class="line"><span class="lineno">  114</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">        Clean and extract the generated lyrics from the API response.</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">        This function processes the  response from the API, extracts the generated text,</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">        and cleans it to retrieve only the content within the &lt;LYRICS&gt; tags.</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">        :param generated_text: The text response from the API containing the generated text.</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">        :type generated_text: str</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">        :return: The cleaned and extracted lyrics.</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">        :rtype: str</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  126</span>        print(generated_text)</div>
<div class="line"><span class="lineno">  127</span>        pattern = <span class="stringliteral">r&quot;&lt;LYRICS&gt;(.*?)&lt;/LYRICS&gt;&quot;</span></div>
<div class="line"><span class="lineno">  128</span>        matchs = re.findall(pattern, generated_text, re.DOTALL)</div>
<div class="line"><span class="lineno">  129</span>        generated_lyrics = <span class="stringliteral">&quot;&quot;</span>.join(matchs[-1])</div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">return</span> generated_lyrics.strip()</div>
<div class="line"><span class="lineno">  131</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bf3e5cb828d7c60d0b0846efd792683" name="a9bf3e5cb828d7c60d0b0846efd792683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bf3e5cb828d7c60d0b0846efd792683">&#9670;&#160;</a></span>generate_lyrics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lyric_generation.LyricGenerator.generate_lyrics </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]</td>          <td class="paramname"><span class="paramname"><em>topics</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]</td>          <td class="paramname"><span class="paramname"><em>named_entity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]</td>          <td class="paramname"><span class="paramname"><em>keywords</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>sentiment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>genere</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>dream</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate catchy and upbeat lyrics based on the specified genre and topic using an AI model.

:param topics: A list of topics that should be included in the lyrics.
:type topics: List[str]

:param named_entity: A list of named entities that must be mentioned in the lyrics.
:type named_entity: List[str]

:param keywords: A list of keywords that should be included in the lyrics.
:type keywords: List[str]

:param sentiment: The sentiment that should be conveyed in the lyrics.
:type sentiment: str

:param genre: The genre of the lyrics.
:type genre: str

:param dream: A text that should guide the AI model in generating the lyrics.
:type dream: str

:return: The generated lyrics in a string format.
:rtype: str
</pre> 
<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00132">132</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>    ):</div>
<div class="line"><span class="lineno">  141</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">        Generate catchy and upbeat lyrics based on the specified genre and topic using an AI model.</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">        :param topics: A list of topics that should be included in the lyrics.</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">        :type topics: List[str]</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">        :param named_entity: A list of named entities that must be mentioned in the lyrics.</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">        :type named_entity: List[str]</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">        :param keywords: A list of keywords that should be included in the lyrics.</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">        :type keywords: List[str]</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">        :param sentiment: The sentiment that should be conveyed in the lyrics.</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">        :type sentiment: str</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">        :param genre: The genre of the lyrics.</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">        :type genre: str</span></div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">        :param dream: A text that should guide the AI model in generating the lyrics.</span></div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">        :type dream: str</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">        :return: The generated lyrics in a string format.</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">        :rtype: str</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  165</span>        </div>
<div class="line"><span class="lineno">  166</span>        prompt = self.generate_prompt(</div>
<div class="line"><span class="lineno">  167</span>            keywords=keywords,</div>
<div class="line"><span class="lineno">  168</span>            sentiment=sentiment,</div>
<div class="line"><span class="lineno">  169</span>            named_entity=named_entity,</div>
<div class="line"><span class="lineno">  170</span>            topics=topics,</div>
<div class="line"><span class="lineno">  171</span>            genere=genere.lower(),</div>
<div class="line"><span class="lineno">  172</span>            dream=dream,</div>
<div class="line"><span class="lineno">  173</span>        )</div>
<div class="line"><span class="lineno">  174</span>        headers = {<span class="stringliteral">&quot;Authorization&quot;</span>: f<span class="stringliteral">&quot;Bearer {self.api_token}&quot;</span>}</div>
<div class="line"><span class="lineno">  175</span>        payload = {</div>
<div class="line"><span class="lineno">  176</span>        <span class="stringliteral">&quot;inputs&quot;</span>: prompt,</div>
<div class="line"><span class="lineno">  177</span>        <span class="stringliteral">&quot;parameters&quot;</span>: {</div>
<div class="line"><span class="lineno">  178</span>            <span class="stringliteral">&quot;max_new_tokens&quot;</span>: 15000,</div>
<div class="line"><span class="lineno">  179</span>            <span class="stringliteral">&quot;temperature&quot;</span>: 0.7,</div>
<div class="line"><span class="lineno">  180</span>            <span class="stringliteral">&quot;top_p&quot;</span>: 0.9,</div>
<div class="line"><span class="lineno">  181</span>        },</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lyric__generation_8py_source.html#l00058">lyric_generation.LyricGenerator.generate_prompt()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlyric__generation_1_1_lyric_generator_a9bf3e5cb828d7c60d0b0846efd792683_cgraph.png" border="0" usemap="#aclasslyric__generation_1_1_lyric_generator_a9bf3e5cb828d7c60d0b0846efd792683_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a1725862fe6dc40ca38f1933a488fc8d6" name="a1725862fe6dc40ca38f1933a488fc8d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1725862fe6dc40ca38f1933a488fc8d6">&#9670;&#160;</a></span>generate_prompt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str lyric_generation.LyricGenerator.generate_prompt </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]</td>          <td class="paramname"><span class="paramname"><em>topics</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]</td>          <td class="paramname"><span class="paramname"><em>named_entity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]</td>          <td class="paramname"><span class="paramname"><em>keywords</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>sentiment</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>genere</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>dream</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate a prompt for the AI model to generate catchy and upbeat lyrics based on the specified genre and topic.

:param topics: A list of topics that should be included in the lyrics.
:type topics: List[str]

:param named_entity: A list of named entities that must be mentioned in the lyrics.
:type named_entity: List[str]

:param keywords: A list of keywords that should be included in the lyrics.
:type keywords: List[str]

:param sentiment: The sentiment that should be conveyed in the lyrics.
:type sentiment: str

:param genre: The genre of the lyrics.
:type genre: str

:return: A prompt for the AI model to generate lyrics based on the specified parameters.
:rtype: str
</pre> 
<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00050">50</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>    ) -&gt; str:</div>
<div class="line"><span class="lineno">   59</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">        Generate a prompt for the AI model to generate catchy and upbeat lyrics based on the specified genre and topic.</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">        :param topics: A list of topics that should be included in the lyrics.</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        :type topics: List[str]</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">        :param named_entity: A list of named entities that must be mentioned in the lyrics.</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">        :type named_entity: List[str]</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">        :param keywords: A list of keywords that should be included in the lyrics.</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">        :type keywords: List[str]</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">        :param sentiment: The sentiment that should be conveyed in the lyrics.</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">        :type sentiment: str</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">        :param genre: The genre of the lyrics.</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">        :type genre: str</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">        :return: A prompt for the AI model to generate lyrics based on the specified parameters.</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">        :rtype: str</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>        prompt = f<span class="stringliteral">&quot;&quot;&quot;## Lyric Generation based on Topic:</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">**Objective:** Generate catchy and upbeat lyrics based on genre and topic.</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral">**Topics:** </span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">{&quot;,&quot;.join(topics)}</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">The named entities &quot;{&quot;,&quot;.join(named_entity)}&quot; must be mentioned.</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">Use the following keywords in the lyrics: </span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">{&quot;,&quot;.join(keywords)}</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">**Sentiment:** The sentiment must be {sentiment}.</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">Use the following text to guide you:  </span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">&quot;{dream}&quot; </span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">{self.prompt_genere[genere]} </span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">Give a *minimum of  4 verses.* </span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">Give the output Lyrics in the following format:</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">```md</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">&lt;LYRICS&gt;</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">GIVE THE LYRICS HERE</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">&lt;/LYRICS&gt;</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">```</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">Five the complete Output. **Do not leave any blank lines or placeholders**.</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  111</span>        <span class="keywordflow">return</span> prompt</div>
<div class="line"><span class="lineno">  112</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="lyric__generation_8py_source.html#l00140">lyric_generation.LyricGenerator.generate_lyrics()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlyric__generation_1_1_lyric_generator_a1725862fe6dc40ca38f1933a488fc8d6_icgraph.png" border="0" usemap="#aclasslyric__generation_1_1_lyric_generator_a1725862fe6dc40ca38f1933a488fc8d6_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ad100aa33ce9900478be56c1ac8933bde" name="ad100aa33ce9900478be56c1ac8933bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad100aa33ce9900478be56c1ac8933bde">&#9670;&#160;</a></span>get_api_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None lyric_generation.LyricGenerator.get_api_token </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieve the HuggingFace API token from the environment variables.

:return: None
</pre> 
<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00042">42</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>    <span class="keyword">def </span>get_api_token(self) -&gt; None:</div>
<div class="line"><span class="lineno">   43</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">        Retrieve the HuggingFace API token from the environment variables.</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">        :return: None</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   48</span>        self.api_token = st.secrets[<span class="stringliteral">&quot;huggingface&quot;</span>][<span class="stringliteral">&quot;HUGGINGFACE_API_TOKEN&quot;</span>]</div>
<div class="line"><span class="lineno">   49</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lyric__generation_8py_source.html#l00032">lyric_generation.LyricGenerator.api_token</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a57758d67c59004bfbd2bf7f426db2f7a" name="a57758d67c59004bfbd2bf7f426db2f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57758d67c59004bfbd2bf7f426db2f7a">&#9670;&#160;</a></span>api_token</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lyric_generation.LyricGenerator.api_token = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00032">32</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="lyric__generation_8py_source.html#l00042">lyric_generation.LyricGenerator.get_api_token()</a>.</p>

</div>
</div>
<a id="aa769f9998cbd8eb2a6352ce9ff908c0c" name="aa769f9998cbd8eb2a6352ce9ff908c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa769f9998cbd8eb2a6352ce9ff908c0c">&#9670;&#160;</a></span>api_url</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str lyric_generation.LyricGenerator.api_url = &quot;https://api-inference.huggingface.co/models/microsoft/Phi-3.5-mini-instruct&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00031">31</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>

</div>
</div>
<a id="a1934b33c1da4c220628862f1902add72" name="a1934b33c1da4c220628862f1902add72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1934b33c1da4c220628862f1902add72">&#9670;&#160;</a></span>generated_lyrics</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str lyric_generation.LyricGenerator.generated_lyrics = self.clean_output(<a class="el" href="#aed2aeff20dff7e0eaca5ad280180d590">generated_text</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00191">191</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>

</div>
</div>
<a id="aed2aeff20dff7e0eaca5ad280180d590" name="aed2aeff20dff7e0eaca5ad280180d590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed2aeff20dff7e0eaca5ad280180d590">&#9670;&#160;</a></span>generated_text</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lyric_generation.LyricGenerator.generated_text = response.json()[0][&quot;generated_text&quot;].replace(prompt,&quot;&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00190">190</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>

</div>
</div>
<a id="affa415c952a15084df24ce1376265f52" name="affa415c952a15084df24ce1376265f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affa415c952a15084df24ce1376265f52">&#9670;&#160;</a></span>prompt_genere</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict lyric_generation.LyricGenerator.prompt_genere</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  {</div>
<div class="line">            <span class="stringliteral">&quot;pop&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Pop**, and make the lyrics upbeat and catchy, celebrating simple joys like eating ice cream. Structure the lyrics with verses and a repetitive chorus that invites listeners to sing along.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;rock&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Rock**, and create energetic and powerful lyrics that celebrate adventure and spontaneity. Incorporate driving rhythms and a memorable chorus that inspires excitement and movement.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;carnatic&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Classical Indian (Carnatic)**, and compose intricate and melodic lyrics that highlight the beauty of nature and everyday experiences. Structure the lyrics with verses that flow seamlessly into a captivating refrain.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;samba&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Samba**, and create vibrant and fun lyrics that capture the excitement of street parties and summer celebrations. Structure the lyrics with upbeat verses and a repetitive chorus that embodies the spirit of dance and community.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;hip-hop&quot;</span>: <span class="stringliteral">&quot;Ensure the genre is **Hip-Hop**, and write clever and rhythmic lyrics that playfully describe the fun of enjoying ice cream and having a good time with friends. Structure the lyrics with engaging verses and a catchy hook that encourages listeners to vibe along.&quot;</span>,</div>
<div class="line">        }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00033">33</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>

</div>
</div>
<a id="aa7389384ae69a4126de955ce6cfb0597" name="aa7389384ae69a4126de955ce6cfb0597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7389384ae69a4126de955ce6cfb0597">&#9670;&#160;</a></span>response</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lyric_generation.LyricGenerator.response = requests.post(self.api_url, headers=headers, json=payload)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lyric__generation_8py_source.html#l00184">184</a> of file <a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="lyric__generation_8py_source.html">lyric_generation.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelyric__generation.html">lyric_generation</a></li><li class="navelem"><a class="el" href="classlyric__generation_1_1_lyric_generator.html">LyricGenerator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
